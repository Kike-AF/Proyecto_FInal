{% extends "base.html" %}
{% block title %}Lista de Pacientes{% endblock %}
{% block content %} <!-- Contenido de la página --> 
    <!-- Enlace a la vista de nuevo paciente -->
    <a href="{{url_for('nuevo_paciente')}}" class="btn btn-primary mb-3">Nuevo Paciente</a>

    <!-- Tabla lista de pacientes-->
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>ID</th> 
                <th>Nombre</th>
                <th>Edad</th>
                <th>Diagnóstico</th>
                <th>Acción</th>
            </tr>
        </thead>
        <tbody>
            <!-- {# Iterar sobre la lista de pacientes y mostrar sus datos en la tabla #} -->
            {% for paciente in pacientes %}
                <tr>
                    <td>{{ paciente[0] }}</td>
                    <td>{{ paciente[1] }}</td>
                    <td>{{ paciente[2] }}</td>
                    <td>{{ paciente[3] }}</td>
                    <td>{{ paciente[4] }}</td>
                    <td>
                        <!-- Enlace para eliminar el paciente -->
                        <a href="{{ url_for('editar_paciente', id=paciente[0]) }}">Editar</a>&nbsp;|&nbsp;
                        <form action="{{ url_for('eliminar_paciente', id=paciente[0]) }}" method="post" style="display:inline;"
                            onsubmit="return confirm('¿Estás seguro de que deseas eliminar este paciente?');">

                            <button type="submit" class="btn btn-link">Eliminar</button>
                        </form>
                    </td>
                </tr>
            {% endfor %}

        </tbody>
    </table>
    <!-- Aqui termina el bloque de contenido de la página-->
{% endblock %}
</body>
</html>